<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="description" content="Homework 8 - AJAX Applications">
  <title>Homework 8: AJAX Applications</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bricolage+Grotesque">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/custom-styles.css">
  <style>
    table,th,td {
      border : 1px solid black;
      border-collapse: collapse;
    }
    th,td {
      padding: 5px;
    }
    </style>
</head>
  
<body class="hw-sub hw9">

<div class="wrapper">

  <header>
    <div class="back-link">
    <a href="index.html"><span class="material-symbols-outlined">
      keyboard_return</span> Back to Homework List</a>
    </div>
    <h1 class="">CNIT 133 Homework <span class="hw-number">8</span> &mdash; AJAX Applications</h1>
  </header>

<button type="button" onclick="loadDoc()">Get CD collection</button>
<br><br>
<table id="demo"></table>

<script>
function loadDoc() {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {
    myFunction(this);
  }
  xhttp.open("GET", "cd_catalog.xml");
  xhttp.send();
}
function myFunction(xml) {
  const xmlDoc = xml.responseXML;
  const x = xmlDoc.getElementsByTagName("CD");
  let table="<tr><th>Artist</th><th>Title</th></tr>";
  for (let i = 0; i <x.length; i++) { 
    table += "<tr><td>" +
    x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
    "</td><td>" +
    x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
    "</td></tr>";
  }
  document.getElementById("demo").innerHTML = table;
}
</script>

</div>

</body>
</html>